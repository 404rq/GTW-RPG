--[[
********************************************************************************
	Project owner:		RageQuit community
	Project name: 		GTW-RPG
	Developers:   		Mr_Moose

	Source code:		https://github.com/GTWCode/GTW-RPG/
	Bugtracker: 		http://forum.404rq.com/bug-reports/
	Suggestions:		http://forum.404rq.com/mta-servers-development/

	Version:    		Open source
	License:    		BSD 2-Clause
	Status:     		Stable release
********************************************************************************
]]--

-- Global settings
vehicles 		= { }
spawn_prices	= { }
trailers 		= { }
peds 			= { }
syncTimers 		= { }
gearTimers 		= { }
currVehTopSpeed = { }
paymentsHolder 	= { }
paymentsCounter = { }

-- Define police vehlices (cars and helicopters including army, swat, sapd and fbi)
veh_police = {
	[596]=true,
	[597]=true,
	[598]=true,
	[599]=true,
	[490]=true,
	[528]=true,
	[523]=true,
	[427]=true,
	[432]=true,
	[601]=true,
	[428]=true,
	[433]=true,
	[470]=true,
	[497]=true,
	[425]=true,
	[520]=true
}

-- Emergency lights vehicles
veh_fireman = {
	[407]=true,
	[544]=true
}
veh_medic = {
	[416]=true
}

-- Table over vehicles to display in the list
spawn_names = {
	-- veh1-name, veh2-name, veh3-name, ...
	[1]={ "Caddy", "Faggio", "Moonbeam", "Oceanic", "Premier", "Remington", "Sanchez" },
	[2]={ "Taxi", "Cabbie" },
	[3]={ "Cement Truck", "DFT-30", "Flatbed", "Linerunner", "Packer", "Roadtrain", "Tanker" },
	[4]={ "Police LS", "Police SF", "Police LV", "Police Ranger", "HPV1000" },
	[5]={ "Fire Truck" },
	[6]={ "Barracks", "Enforcer", "Hydra", "Hunter", "HPV1000", "Patriot" },
	[7]={ "Ambulance" },
	[8]={ "Bus", "Coach" },
	[9]={ "Towtruck" },
	[10]={ "Ambulance", "Enforcer", "FBI Rancher", "HPV1000", "Police LS", "Police SF", "Police LV", "Police Ranger", "S.W.A.T." },
	[11]={ "Ambulance", "Enforcer", "HPV1000", "Police LS", "Police SF", "Police LV", "Police Ranger", "FBI Rancher" },
	[12]={ "Ambulance", "Bullet", "Bus", "Coach", "Combine Harvester", "FBI Rancher", "Fire Truck", "Freight", "Glendale", "Hydra", "Hunter", "HPV1000", "Infernus", "Jetmax", "Linerunner", "Maverick", "NRG-500", "Oceanic", "Patriot", "Police Maverick", "Police LS", "Police SF", "Police LV", "Police Ranger", "Remington", "Rhino", "Roadtrain", "Sanchez", "Streak", "S.W.A.T.", "Stafford", "Tanker", "Tractor", "Tram" }, -- Admin
	[13]={ "Andromada", "AT-400", "Beagle", "Dodo", "Maverick", "Nevada" },
	[14]={ "Tram" },
	[15]={ "Freight", "Streak" },
	[16]={ "Baggage", "Tug" },
	[17]={ "Police Maverick", "Seasparrow" },
	[18]={ "Ambulance", "Enforcer", "HPV1000", "Police LS", "Police SF", "Police LV", "Police Ranger", "FBI Rancher", "FBI Truck" },
	[19]={ "Ambulance", "Bullet", "Bus", "Coach", "FBI Rancher", "Glendale", "Infernus", "Jetmax", "Maverick", "NRG-500", "HPV1000", "Patriot", "Police Maverick", "Police LS", "Police SF", "Police LV", "Police Ranger", "Stafford", "Tanker" }, -- Admin trial and new
	[20]={ "Predator" },
	[21]={ "Mountain Bike", "HPV1000" },
}

-- Table over vehicle prices per minute
spawn_prices = {
	-- veh1-price, veh2-price, veh3-price, ...
	[1]={ 2, 1, 2, 3, 4, 5, 6 },
	[2]={ 1, 1 },
	[3]={ 2, 2, 2, 2, 3, 3, 3 },
	[4]={ 0, 0, 0, 0, 0 },
	[5]={ 0 },
	[6]={ 0, 0, 0, 0, 0, 0 },
	[7]={ 0 },
	[8]={ 4, 4 },
	[9]={ 1 },
	[10]={ 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	[11]={ 0, 0, 0, 0, 0, 0, 0, 0 },
	[12]={ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	[13]={ 11, 11, 3, 4, 5, 8 },
	[14]={ 4 },
	[15]={ 8, 7 },
	[16]={ 1, 1 },
	[17]={ 0, 0 },
	[18]={ 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	[19]={ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	[20]={ 0 },
	[21]={ 0, 0 },
}

-- Table over marker colors
spawn_colors = {
	-- R,G,B
	[1]={ 255,255,255 },
	[2]={ 255,200,0 },
	[3]={ 255,200,0 },
	[4]={ 135,135,135 },
	[5]={ 0,200,255 },
	[6]={ 0,150,0 },
	[7]={ 0,200,255 },
	[8]={ 255,200,0 },
	[9]={ 255,200,0 },
	[10]={ 0,0,150 },
	[11]={ 160,160,160 },
	[12]={ 255,255,255 },
	[13]={ 255,200,0 },
	[14]={ 255,200,0 },
	[15]={ 255,200,0 },
	[16]={ 255,200,0 },
	[17]={ 135,135,135 },
	[18]={ 100,100,100 },
	[19]={ 255,255,255 },
	[20]={ 135,135,135 },
	[21]={ 135,135,135 },
}

-- Table over vehicle rights, to spawn
spawn_rights = {
	-- occupation, team, wanted-level
	[1]={ "", "", 50 },
	[2]={ "Taxi Driver", "Civilians", 2 },
	[3]={ "Trucker", "Civilians", 1 },
	[4]={ "", "Police", 0 },
	[5]={ "Fireman", "Emergency service", 0 },
	[6]={ "ArmedForces", "Government", 0 },
	[7]={ "Paramedic", "Emergency service", 0 },
	[8]={ "Bus Driver", "Civilians", 1 },
	[9]={ "Mechanic", "Civilians", 3 },
	[10]={ "SWAT officer", "Government", 0 },
	[11]={ "SAPD officer", "Government", 0 },
	[12]={ "", "Staff", 0 },
	[13]={ "Pilot", "Civilians", 0 },
	[14]={ "Tram Driver", "Civilians", 0 },
	[15]={ "Train Driver", "Civilians", 0 },
	[16]={ "Pilot", "Civilians", 0 },
	[17]={ "", "Government", 0 },
	[18]={ "FBI officer", "Government", 0 },
	[19]={ "", "Staff", 0 },
	[20]={ "", "Government", 0 },
	[21]={ "", "Government", 0 },
}

properties = {
	[1]={"Rental",false, -1,-1,-1, -1,-1,-1},
	[2]={"",true, -1,-1,-1, -1,-1,-1},
	[3]={"",true, -1,-1,-1, -1,-1,-1},
	[4]={"SAPD 911",true, 50,50,50, 255,255,255},
	[5]={"SAFD 911",true, 135,135,135, 50,50,50},
	[6]={"GTW Army",true, -1,-1,-1, -1,-1,-1},
	[7]={"SAMD 911",true, 135,135,135, 50,50,50},
	[8]={"",true, -1,-1,-1, -1,-1,-1},
	[9]={"",true, -1,-1,-1, -1,-1,-1},
	[10]={"SWAT 911",true, 30,30,100, 150,150,150},
	[11]={"SAPD 911",true, 135,135,135, 255,255,255},
	[12]={"IG Staff",true, 50,50,50, 255,255,255},
	[13]={"",true, 255,255,255, 255,255,255},
	[14]={"",true, -1,-1,-1, -1,-1,-1},
	[15]={"",true, -1,-1,-1, -1,-1,-1},
	[16]={"",true, 255,255,255, 255,255,255},
	[17]={"SAPD 911",true, 50,50,50, 255,255,255},
	[18]={"FBI 911",true, 135,135,135, 255,255,255},
	[19]={"SAPD 911",true, 50,50,50, 255,255,255},
	[20]={"SAPD 911",true, 50,50,50, 255,255,255},
	[21]={"SAPD 911",true, 50,50,50, 255,255,255},
}

valid_search_keys = { "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k",
 	"l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "num_0", "num_1", "num_2", "num_3", "num_4", "num_5",
 	"num_6", "num_7", "num_8", "num_9", "backspace", "enter", "arrow_u", "arrow_d" }

-- Data for the markers
spawn_markers = {
	-- x, y, z, rot, type [(optional) spawnx, spawny, spawnz]
	-- Free vehicle spawners
	{ 1804.6162109375, -1932.7001953125, 12.286363983154, 2.2220153808594, 1 },
    { 1923.5849609375, -1794.5556640625, 12.2828125, 271.29779052734, 1 },
    { 995.8515625, -913.4345703125, 41.0796875, 186.05355834961, 1 },
    { 198.94140625, -1436.9208984375, 11.996360206604, 320.34698486328, 1 },
    { -90.1259765625, -1195.5791015625, 1.1514741420746, 343.48455810547, 1 },
    { -1578.908203125, -2720.638671875, 47.4390625, 146.95260620117, 1 },
    { -2112.6142578125, -2242.6181640625, 29.525, 232.92744445801, 1 },
    { -1673.4287109375, 436.9794921875, 6.0796875, 223.96246337891, 1 },
    { -2442.8984375, 1041.7451171875, 49.290625, 271.65484619141, 1 },
    { -2413.9970703125, -586.97265625, 131.5484375, 216.69488525391, 1 },
    { -1936.5908203125, 2384.01953125, 48.3921875, 299.58251953125, 1 },
    { -2271.6982421875, 2333.5322265625, 3.7125, 273.3083190918, 1 },
    { -1275.8857421875, 2706.5390625, 48.9625, 210.38314819336, 1 },
    { 648.7041015625, 1711.044921875, 5.8921875, 42.987426757813, 1 },
    { 2119.3076171875, 956.7080078125, 9.71298828125, 271.80865478516, 1 },
    { 2635.212890625, 1069.2626953125, 9.7203125, 92.954010009766, 1 },
    { 2188.8232421875, 2502.955078125, 9.7203125, 177.89611816406, 1 },
    { 103.4306640625, -164.4140625, 1.198534154892, 268.06774902344, 1 },
    { 667.658203125, -546.5732421875, 15.2359375, 88.103454589844, 1 },
    { 1407.787109375, 459.716796875, 19.119903945923, 154.43994140625, 1 },
    { 2277.31640625, 27.36328125, 25.374618911743, 6.2265930175781, 1 },
    { -2545.2314453125, 598.59765625, 13.453125, 90.053558349609, 1 },
    { 1279.390625, -1374.849609375, 12.279221534729, 0, 1 },
    { 1343.7431640625, -1750.9453125, 12.364346504211, 358.03616333008, 1 },
    { 2085.466796875, -1368.716796875, 22.984375, 180.70863342285, 1 },
    { 1590.65234375, 1850.5361328125, 9.8203125, 178.18176269531, 1 },
    { 1647.2919921875, 1289.4970703125, 9.827939987183, 1.4804382324219, 1 },
    { 1663.451171875, -2249.1748046875, 12.366353988647, 90.328216552734, 1 },
    { -305.0625, 1020.34765625, 18.59375, 265.17282104492, 1 },
    { -2239.435546875, -2553.177734375, 30.921875, 65.081268310547, 1 },
    { -2642.7412109375, 1376.2841796875, 6.1545429229736, 180.29113769531, 1 },
    { 2379.626953125, -1416.3828125, 23.013847351074, 1.9143981933594, 1 },

	-- Taxi driver markers
	{ -1391, -336, 13, 22, 2 },
	{ 1667, -2313, 12.5, 90, 2 },

	-- Trucker vehicle markers
	{ -76, -1127, 0, 70, 3 },
	{ 2750, -2446, 12.5, 270, 3 },
	{ -1701, 18, 2.5, 315, 3 },
	{ 1439, 981, 9.8, 0, 3 },
	{ 1068, 1920, 9.8, 0, 3 },

	-- Police vehicle spawners
	{ 1558, -1609, 12, 180, 4 },
	{ 1583, -1609, 12, 180, 4 },
	{ -1593, 653, 6, 0, 4 },
	{ -1622.5, 653, 6, 0, 4 },
	{ 2256, 2460, 9.5, 180, 4 },
	{ 2278, 2460, 9.5, 180, 4 },
	{ -209, 995, 18.5, 180, 4 },
	{ 614, -601, 16.3, 270, 4 },
	{ -2178, -2368, 29.3, 52, 4 },
	{ -1400, 2634.5, 54.7, 90, 4 },

	-- Firetruck spawners
	{ -2020, 86.5, 26.8, 270, 5 },
	{ 1750, -1454, 12.5, 270, 5 },
	{ 1752, 2070, 9, 180, 5 },

	-- Army spawners
	{ 205, 1911, 16.6, 180, 6 },
	{ 307, 1804, 16.6, 0, 6 },

	-- Paramedic spawners
	{ 1181, -1338.5, 12.5, 270, 7 },
	{ 2000, -1413, 16, 180, 7 },
	{ 1624, 1820, 9.5, 0, 7 },
	{ -2655, 630, 13.5, 180, 7 },
	{ -304.5, 1032, 18.5, 270, 7 },
	{ -1522, 2525.6, 54.7, 0, 7 },
	{ -2197, -2309.6, 29.6, 0, 7 },

	-- Bus driver spawners
	{ 1780, -1900, 12.5, 270, 8 },
	{ 1780, -1910, 12.5, 270, 8 },
	{ -1630, 1290, 6, 135, 8 },
	{ -1637, 1297, 6, 135, 8 },
	{ 2293, 612, 9.8203125, 0, 8 },

	-- Mechanic spawners
	{ -1917, 293, 40, 180, 9 },
	{ 1045, -1031, 31, 180, 9 },

	-- SWAT vehicle spawners
	{ 141.6, 492.9, 9.8, 180, 10 },

	-- SAPD vehicle spawners
	{ 3203, -1978.3, 10.1, 0, 11 },
	{ 3193.5, -1978.3, 10.1, 0, 11 },

	-- Admin vehicles reserved type 12
	--{ 0, 0, 0, 0, 12 },

	-- Pilot airplanes
	{ -1645, -152.5, 13.1, 320, 13 },
	{ 1905, -2282, 12.5, 270, 13 },
	{ 1477, 1800, 9.8, 180, 13 },

	-- Tram drivers
	{ -2265, 528, 34.2, 0, 14 },

	-- Train drivers
	{ 1455, 2626, 10.4, 0, 15 },
	{ 1727.67578125, -1962.3818359375, 13.1171875, 90, 15 },
	{ -1949.6611328125, 185.0634765625, 25.18125, 90, 15 },

	-- Pilot tugs
	{ 1713, 1597, 9.2, 70, 16 },
	{ -1557, -432, 5, 70, 16 },
	{ 1969, -2183, 12.5, 180, 16 },

	-- Police helicopter
	{ -1680, 706, 29.6, 90, 17 },
	{ 1565.9853515625, -1650.3994140625, 27.402114868164, 0, 17 },
	{ 2264.0966796875, 2470.986328125, 37.683673858643, 90, 17 },
	{ 3178, -1928, 11, 90, 17 },
	{ 50.700000762939, 433.89999389648, 25.60000038147, 90, 17 },
	{ 127.90000152588, 475.79998779297, 28.5, 90, 17 },
	{ -2968.0556640625, 2400.9914550781, 2.9926643371582, 83, 17 },
	{ -2227.6689453125, 2326.6142578125, 6.546875, 0, 17 },

	-- FBI vehicles
	{ 595.7373046875, -1518.490234375, 14.145399093628, 0, 18 },
	{ 600.7373046875, -1518.490234375, 13.95884418487, 0, 18 },

	-- Admin basic vehicles reserved type 19
	--{ 0, 0, 0, 0, 19 },

	-- Police boats (predator)
	{ -3009.6098632812, 2431.9736328125, 0.8984375, 116, 20 },
	{ -2215.7509765625, 2423.7001953125, 1.4990310668945, 40, 20 },
	{ -2978.75390625, 2191.5498046875, 0, 200, 20 },
	--{ -3036.6728515625, 2365.6142578125, 6.2578125, 90, 20, -3038.9501953125, 2373.2509765625, 1 },

	-- Police bikes (jail)
	{ -2948, 2263, 6.26, 115, 21 },
}
